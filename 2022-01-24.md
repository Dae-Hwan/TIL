## 데이터 링크 계층의 역할과 이더넷
### 이더넷이란?
데이터 링크 계층은 `네트워크 장비 간의 신호를 주고받는 규칙`을 정하는 계층
랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층

이더넷은 일반적으로 가장 많이 사용되는 랜에서 적용되는 규칙. 
허브와 같은 장비에 연결된 컴퓨터와 데이터를 주고 받을 때 사용
여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 되어있음(CSMA/CD 방식을 사용하여 데이터 보내는 시점을 늦춤)
요새는 스위치를 사용하기 때문에 CSMA/CD방식을 거의 사용하지 않고 있음

*충돌(collision): 컴퓨터 여러 대가 동시에 데이터를 보내면 데이터들이 서로 부딪히는 것
![](https://images.velog.io/images/gigymi2005/post/bc9f2f24-2de9-4f36-8b6c-09d05fa277ff/KakaoTalk_Photo_2022-01-24-16-33-06.jpeg)

## MAC 주소와 구조
### MAC 주소란?
Media Access Control의 약어.
랜카드에는 MAC주소라는 번호가 있음. 
물리주소라고도 하며 전 세계에서 유일한 번호로 할당
48비트 숫자로 구성.
![](https://images.velog.io/images/gigymi2005/post/5ef7bc76-e5b9-4984-b18e-db2822786a59/KakaoTalk_Photo_2022-01-24-16-45-02%20002.jpeg)

이더넷 헤더와 트레일러가 붙는데 이더넷 헤더에는 
목적지 MAC주소(6바이트), 출발지 MAC주소(6바이트), 유형(2바이트) 이렇게 14바이트로 구성되어있음

*유형(이더넷 타입): 이더넷으로 전송되는 상위 계층 프로토콜의 종류. 프로토콜 종류를 식별하는 번호가 있다는것만 알면됨.
![](https://images.velog.io/images/gigymi2005/post/a17257ad-c264-49b6-9c05-20d96a8e3fec/KakaoTalk_Photo_2022-01-24-16-54-11%20003.jpeg)

*트레일러는 FCS(Frame Check Sequence)라고도 하는데 데이터 전송도중 오류가 발생했는지 확인하는 용도임

프레임: 이더넷 헤더와 트레일러가 추가된 데이터. 네트워크를 통해 프레임이 전송된다.

컴퓨터 1에서 데이터를 전송하려고 할때
![](https://images.velog.io/images/gigymi2005/post/4e7cdf81-a8af-465c-adbc-c377dd67e779/KakaoTalk_Photo_2022-01-24-16-54-10%20002.jpeg)
컴퓨터1에서 캡슈화가 일어난다. 즉 데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가하여 프레임을 만들고, 물리계층에서 이 프레임 비트열을 전기신호로 변환하여 네트워크를 통해 전송.
![](https://images.velog.io/images/gigymi2005/post/a60218a9-6717-46b7-bbec-fb6fec569f34/KakaoTalk_Photo_2022-01-24-16-54-10%20001.jpeg)
mac주소와 다른 곳에서는 데이터를 파기. 
같은 곳에선 역캡슐화가 일어남.
물리계층에서 전기신호로 전송된 데이터를 비트열로 변환하고 데이터링크 계층에서 이더넷 헤더와 트레일러를 분리.
![](https://images.velog.io/images/gigymi2005/post/15c33f11-cc54-4a6c-b3c9-2f20a73668e8/KakaoTalk_Photo_2022-01-24-16-59-17.jpeg)
만약 컴퓨터1,2가 동시에 컴퓨터3에 전송하는 경우 CSMA/CD방식이 사용됨.

---





